---
author: Gyunseo Lee
title: "BOJ ë°±ì¤€ 10159: ì €ìš¸"
pubDatetime: 2024-07-04T22:44:00+09:00
modDatetime: 2024-07-04T22:44:00+09:00
featured: false
draft: false
tags:
  - PS
description: this is template
ogImage: ""
---

## Table of contents

## ë“¤ì–´ê°€ë©°

ê±¸ë¦°ì‹œê°„: 30ë¶„

ì²˜ìŒì— ë¬¸ì œë¥¼ ì½ìœ¼ë©´ì„œ, ë¬¼ê±´ ìŒì˜ ë¹„êµ ê²°ê³¼ë“¤ë§Œìœ¼ë¡œ ê° ë¬¼ê±´ì— ëŒ€í•´ ë”´ ë¬¼ê±´ë“¤ê³¼ì˜ ë¹„êµ ê²°ê³¼ë¥¼ ìœ ì¶”í•˜ê³ , ìœ ì¶” ê²°ê³¼ë¥¼ ì•Œ ìˆ˜ ì—†ëŠ” ë¬¼ê±´ë“¤ì˜ ê°œìˆ˜ë¥¼ ë³´ì ë§ˆì, ìœ„ìƒ ì •ë ¬ì„ ë– ì˜¬ë ¸ìŠµë‹ˆë‹¤.  
ì™œëƒë©´ìš” ì˜›ë‚ ì—, https://www.acmicpc.net/problem/2252 ì´ ë¬¸ì œë¥¼ ìœ„ìƒì •ë ¬ë¡œ í’€ì—ˆë˜ ê¸°ì–µì´ ë‚¬ì—ˆìŠµë‹ˆë‹¤.  
NìµœëŒ€ 100ì´ê³ , Mì˜ ìµœëŒ€ëŠ” 2000ì´ì–´ì„œ O(N + M)ìœ¼ë¡œ ê·¸ë˜í”„ë¥¼ ì¶©ë¶„íˆ ìˆœíšŒí•  ìˆ˜ ìˆê² ë‹¤ ìƒê°í•˜ê³  ì ‘ê·¼í–ˆìŠµë‹ˆë‹¤.

## ì ‘ê·¼

![](https://res.cloudinary.com/gyunseo-blog/image/upload/f_auto/v1720101587/image_vcielz.png)

ì²˜ìŒì—ëŠ” ì…ë ¥ ë°›ì€ ë‘ ìˆ˜ì˜ ìˆœì„œëŒ€ë¡œ ìœ í–¥ ê·¸ë˜í”„ë¥¼ ê·¸ë ¸ìŠµë‹ˆë‹¤.  
ê·¸ë¦¬ê³  ê° ìˆ«ìì—ì„œ DFSë¥¼ ì´ìš©í•´ì„œ, ê·¸ë˜í”„ ìˆœíšŒë¥¼ í•´ì„œ ë°©ë¬¸í•˜ì§€ ëª»í•œ ë…¸ë“œì˜ ê°œìˆ˜ë¥¼ ì„¸ë©´ ëœë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.  
ì˜ˆë¥¼ ë“¤ì–´ ìœ„ ë…¸íŠ¸ì— ì íŒ ê²ƒì„ ì˜ˆì‹œë¡œ ë“¤ìë©´ìš”.  
2ì—ì„œ DFS ìˆœíšŒë¥¼ ì‹œì‘í•˜ë©´, 2, 3, 4ë¥¼ ë°©ë¬¸í•˜ê³ , 1, 5, 6ì€ ë°©ë¬¸í•˜ì§€ ëª»í•˜ê²Œ ë©ë‹ˆë‹¤.  
ì–´? ê·¸ëŸ¬ë©´ ì €í¬ ë¬¸ì œ ì¡°ê±´ê³¼ ìœ„ë°°ê°€ ë˜ê²Œ ë˜ì£ ? 5, 6ì€ 2ì™€ ë¹„êµ ê²°ê³¼ë¥¼ ê²°ì •ì§“ì§€ ëª»í•˜ëŠ” ê²Œ ë§ëŠ”ë°, 1ì€ 2ë³´ë‹¤ í™•ì‹¤íˆ í° ê²½ìš°ì´ì–ì•„ìš”.  
ê·¸ë˜ì„œ ìƒê°ë‚œ ê²Œ, ì—­ë°©í–¥ ê·¸ë˜í”„ë¥¼ ì£¼ì–´ì„œ, ê±°ê¸°ì„œ ë˜ ë‹¤ì‹œ í•œë²ˆ DFSìˆœíšŒë¥¼ í•˜ëŠ” ê²ë‹ˆë‹¤.  
ê·¸ë ‡ê²Œ ë˜ë©´ 2, 1ì„ ë°©ë¬¸í•˜ê²Œ ë˜ê³ , 3, 4, 5, 6ì€ ë°©ë¬¸í•˜ì§€ ëª»í•˜ê²Œ ë©ë‹ˆë‹¤.  
ê·¸ëŸ¬ë©´ ì •ë°©í–¥ê³¼ ì—­ë°©í–¥ ê·¸ë˜í”„ ëª¨ë‘ì—ì„œ ë°©ë¬¸ë˜ì§€ ëª»í•œ ë…¸ë“œê°€ ê²°êµ­ ë¹„êµ ê²°ê³¼ë¥¼ ê²°ì •ì§“ì§€ ëª»í•˜ëŠ” ìˆ«ìì´ì§€ìš”?  
ì œê°€ ê·¸ë ‡ê²Œ ë°œìƒì„ í–ˆì—ˆë˜ ì´ìœ ëŠ”ìš”.  
ëª‡ ë‹¬ ì „ì— ì†Œí”„í‹°ì–´ ë¬¸ì œë¥¼ í’€ë©´ì„œ ë¹„ìŠ·í•œ ë¬¸ì œë¥¼ í’€ì–´ ë´¤ì–´ì„œ ê·¸ë¬ìŠµë‹ˆë‹¤.  
https://softeer.ai/practice/6248 ì¶œí‡´ê·¼ê¸¸ì´ë¼ëŠ” ë¬¸ì œì¸ë° í•œë²ˆ í’€ì–´ ë³´ì„¸ìš”.

## êµ¬í˜„

```python
import sys

input = sys.stdin.readline


def DFS(cur_node):

    for next_node in graph[cur_node]:
        if isVisited[next_node]:
            continue

        isVisited[next_node] = True
        DFS(next_node)


def reversedDFS(cur_node):
    for next_node in reversedGraph[cur_node]:
        if reversedIsVisited[next_node]:
            continue

        reversedIsVisited[next_node] = True
        reversedDFS(next_node)


def resetVisitedLists():
    for i in range(N + 1):
        isVisited[i] = False
        reversedIsVisited[i] = False


if __name__ == "__main__":
    N = int(input().strip())
    M = int(input().strip())
    # graph[u].append(v) -> uê°€ vë³´ë‹¤ í¬ë‹¤
    graph = [[] for _ in range(N + 1)]
    isVisited = [False for _ in range(N + 1)]
    ans = [0 for _ in range(N + 1)]
    # graph[v].append(u) -> vê°€ uë³´ë‹¤ ì‘ë‹¤ë¥¼ ì €ì¥í•˜ëŠ” ë¦¬ìŠ¤íŠ¸
    reversedGraph = [[] for _ in range(N + 1)]
    reversedIsVisited = [False for _ in range(N + 1)]
    for _ in range(M):
        u, v = map(int, input().strip().split())
        graph[u].append(v)
        reversedGraph[v].append(u)

    # O(N * (N + M + 2N))
    for i in range(1, N + 1):
        isVisited[i] = True
        DFS(i)
        reversedIsVisited[i] = True
        reversedDFS(i)
        for j in range(1, N + 1):
            if not isVisited[j] and not reversedIsVisited[j]:
                ans[i] += 1
        resetVisitedLists()

    for i in range(1, N + 1):
        print(ans[i])

```

ì¸ì ‘ ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ìš©í•´ì„œ DFSë¥¼ êµ¬í˜„í•˜ë©´, ì‹œê°„ ë³µì¡ë„ëŠ” O(N+M)ì…ë‹ˆë‹¤. ê·¼ë° ì´ DFSë¥¼ ê° ë…¸ë“œë§ˆë‹¤ í•´ì£¼ë‹ˆ ì‹œê°„ ë³µì¡ë„ëŠ” O(N(N+M))ì´ê³ , ì´ëŠ” TLEë¥¼ ì¶©ë¶„íˆ ì•ˆ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ğŸ˜†
