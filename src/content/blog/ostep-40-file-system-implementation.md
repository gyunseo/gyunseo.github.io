---
title: OSTEP 40 File System Implementation
pubDatetime: 2023-10-30T22:29:00Z
featured: false
draft: false
tags:
  - Computer-Science
  - File-System
  - OSTEP
description: OSTEP 40장 공부한 거 정리
---

## Table of contents

## 들어가며

- 이번 장에서는 **vsfs(Very Simple File System)** 라고 하는 간단한 파일 시스템 구현을 다룬다.
- 이 file system은 Unix 파일 시스템을 단순화한 것, 하기 내용들을 소개한다.

  - 디스크 자료 구조 (on-disk structure)
  - 접근 방법
  - 다양한 파일 시스템들의 정책들

- 파일 시스템은 순수한 software.
- 이점이 이 책의 앞 부분에서 다룬 CPU 가상화, 메모리 가상화 부분과 다른 점.
- CPU 가상화나 메모리 가상화에서는 하드웨어가 필요하다.
  - 특권모드로의 변환을 위한 명령어, 페이징을 위한 하드웨어 등이 그것.
- 파일 시스템에서는 성능 개선을 위해 하드웨어를 추가하지 않을 것이다. (물론, 잘 동작 하는 파일 시스템을 만들려면 장치 특성을 반영해야 한다.)
- 먼저 이번 장에서 간단한 파일 시스템 (vsfs) 을 사용하여 개념을 소개하고, 파일 시스템에 대한 실제 사례들을 다루면서 현실에서는 어떻게 동작하는지 이해해 보도록 하겠다.

> **핵심 질문: 어떻게 간단한 File System을 만들 것인가?**
>
> 간단한 파일 시스템은 어떻게 만들 수 있을까?  
> 디스크 위에는 어떤 data structure가 필요할까?  
> 그런 data structure는 어떤 정보를 추적해야 할까?  
> 그 data structure는 어떻게 접근돼야 할까?

## 생각하는 방법

- 파일 시스템에 대해 학습할 때, 두 가지 측면에서 접근할 것 권장.
- 그 두 측면을 다 이해하면, 파일 시스템이 기본적으로 어떻게 동작하는지 이해하게 된.
- 첫 번째는 파일 시스템의 자료 구조이다.
  - 즉, 파일 시스템이 자신의 데이터와
  - 메타데이터를 관리하기위애 디스크 상에 어떤 종류의 자료 구조가 있어야 하겠는가?
